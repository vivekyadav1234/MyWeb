<div class="row ss-top-menu">
	<div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3">
		<span class="ss-text-dark" style="vertical-align: -webkit-baseline-middle;">Dashboard</span>
	</div>
	<div class="col-xl-9 col-lg-9 col-md-9 col-sm-9 col-xs-9">
		<a class="addCursor float-right downloadBtn mr-2" (click)="downloadPaymentReport()">Download Payment Report</a>
		<a class="addCursor float-right downloadBtn mr-2" (click)="downloadExcelBoq()">Download BOQ Report</a>
		<button class="bt-boq btn btn-pink mr-2 p-2 pull-right" type="button" data-toggle="modal" *ngIf = "is_champion=='true'" data-target="#inviteChampionModal" (click)="slaesmanagerinvitechampions.getChampionList()">Invite Level 2 & Level 3 User</button>
</div>
</div>
<div class="row mt-5 px-3">
	<div class="col-md-12 bg-white rounded">
		<div class="row">
			<div class="col-md-4">
				<div class="filter-chng my-3">
					<span>Filter By Referrer:</span>
					<select class="form-control form-control-change" (change)="onChangeFilterData($event.target.value)">
						<option value="" disabled>Select Referrer Type</option>
						<option value="all">All</option>
						<option value="{{ src.id }}" *ngFor="let src of referreresList">{{ src.name }}</option>
					</select>
				</div>
			</div>
			<div class="col-md-2 my-3 pl-0">
				<div  class="nav-item itm-chng ml-1" style="padding: 5px 10px; max-width: 149px;" id="fromDateLi">
					<span class="fromDateSpan addCursor" (click)="fromDate()">From Date <i class="fa fa-caret-down"></i></span>
					<input name="from_date" class="form-control frm-chng fromDate" [(ngModel)]="from_date" type="date">
				</div>
			</div>

			<div class="col-md-2 my-3 pl-0">
				<div class="nav-item itm-chng" style="padding: 5px 10px; max-width: 149px;" id="toDateLi">
					<span class="toDateSpan addCursor" (click)="toDate()">To Date <i class="fa fa-caret-down"></i></span>
					<input name="to_date" class="form-control frm-chng toDate" [(ngModel)]="to_date" type="date">
				</div>
			</div>

			<div class="col-md-2 my-3 pl-0">
				<img src="assets/img/dashboard/submit.png" class="ml-1 sendIcon filterRowIcon addCursor" (click)="onFilterDataSubmit()">
			</div>
		</div>
	</div>
	
</div>


<div class="row body_height pt-3 leadheadDashboardContainer">
	<div class="col-lg-12 mt-2 mb-2">
		<h5 class="titleText">Leads count by Status</h5>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2">
			<div class="mt-3 mb-4 ml-2 mr-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/lost.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">All Leads</span>
		  			</div>
		  		</div>
		    </div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{'referrer_type':referrer_type_value, 'to_date': to_date, 'from_date': from_date}">{{countres.total_leads}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
		    	<p>Count of all the leads which have been entered into the system till date.</p>
		    </div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2">
			<div class="mt-3 mb-4 ml-2 mr-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/lost.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">Not Attempted</span>
		  			</div>
		  		</div>
		    </div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{lead_status:'not_attempted','referrer_type':referrer_type_value, 'to_date': to_date, 'from_date': from_date}">{{countres.not_attempted}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
		    	<p>The count shows the leads which are new in the system, and has not been claimed by any Sales Manager.</p>
		    </div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2">
			<div class="mt-3 mb-4 ml-2 mr-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/claim.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">Claimed</span>
		  			</div>
		  		</div>
		    </div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{lead_status:'claimed','referrer_type':referrer_type_value, 'to_date': to_date, 'from_date': from_date}">{{countres.claimed}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
		    	<p>The count shows the leads which are new in the system, and has not been claimed by any Sales manager.</p>
		    </div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2">
			<div class="mt-3 mb-4 ml-2 mr-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/qualified.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">Qualified</span>
		  			</div>
		  		</div>
		    </div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{lead_status:'qualified','referrer_type':referrer_type_value, 'to_date': to_date, 'from_date': from_date}">{{countres.qualified}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
		    	<p>The number of count shows that what number of leads are qualifiede.</p>
		    </div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2">
			<div class="mt-3 mb-4 ml-2 mr-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/notContactable.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">Not Contactable</span>
		  			</div>
		  		</div>
		    </div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{lead_status:'not_contactable','referrer_type':referrer_type_value, 'to_date': to_date, 'from_date': from_date}">{{countres.not_contactable}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
		    	<p>The number of count shows the data of leads that are not contactable for some reasons.</p>
		    </div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2">
			<div class="mt-3 mb-4 ml-2 mr-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/follow_up.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">Follow Up</span>
		  			</div>
		  		</div>
		    </div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{lead_status:'follow_up','referrer_type':referrer_type_value, 'to_date': to_date, 'from_date': from_date}">{{countres.follow_up}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
		    	<p>The number of count shows that how many leads needed to be followed up on.</p>
		    </div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2 ">
			<div class="mt-3 mb-4 mx-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/lost.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">
		  				Lost
		  				</span>
		  			</div>
		  		</div>
				<!-- <img src="assets/v3/img/lost.svg" class="cardHeadingIcon">
		  		<span class="statusCardHeadingColor ml-4">Lost </span> -->
		  	</div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{lead_status:'lost','referrer_type':referrer_type_value, 'to_date': to_date, 'from_date': from_date}" style="color: red;">{{countres.lost}}</h1>
		
			<div class="ml-3 mr-2 statusCardContent">
				<p>The number of count shows the leads which can not be further pursued.</p>
			</div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2 ">
			<div class="mt-3 mb-4 mx-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/lost.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">
		  				Lost after 5 Tries
		  				</span>
		  			</div>
		  		</div>
				<!-- <img src="assets/v3/img/lost.svg" class="cardHeadingIcon">
		  		<span class="statusCardHeadingColor ml-4">Lost after 5 Tries </span> -->
		  	</div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" style="color: red;" [queryParams]="{lead_status:'lost_after_5_tries','referrer_type':referrer_type_value, 'to_date': to_date, 'from_date': from_date}">{{countres.lost_after_5_tries}}</h1>
		
			<div class="ml-3 mr-2 statusCardContent">
				<p>It indicates count of leads which were not contactable even after 5 call attempts.</p>
			</div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2 ">
			<div class="mt-3 mb-4 mx-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/dropped.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">
		  				Dropped 
		  				</span>
		  			</div>
		  		</div>
				<!-- <img src="assets/v3/img/dropped.svg" class="cardHeadingIcon">
		  		<span class="statusCardHeadingColor ml-4">Dropped </span> -->
		  	</div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" style="color: red;"  [queryParams]="{lead_status:'dropped','referrer_type':referrer_type_value, 'to_date': to_date, 'from_date': from_date}">{{countres.dropped}}</h1>
			<div class="ml-3 mr-2 statusCardContent">
				<p>Total leads that has been dropped.</p>
			</div>
		</div>
	</div>
</div>
<div class="row justify-content-center pt-3 leadheadDashboardContainer">
	<div class="col-sm-12 mt-2 mb-4">
		<h5 class="titleText">Leads count by Role</h5>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2 ">
			<div class="mt-3 mb-4 mx-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/user.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">
		  				Customer 
		  				</span>
		  			</div>
		  		</div>
				<!-- <img src="assets/v3/img/user.svg" class="cardHeadingIcon">
		  		<span class="statusCardHeadingColor ml-4">Customer </span> -->
		  	</div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']"   [queryParams]="{lead_type:'customer', 'to_date': to_date, 'from_date': from_date}" >{{countres.converted_customer}}/{{countres.customer}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
				<p>The count shows that {{countres.converted_customer}} leads are converted out of {{countres.customer}} total leads</p>
			</div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2 ">
			<div class="mt-3 mb-4 mx-1">
				<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/user.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">
		  				Designer 
		  				</span>
		  			</div>
		  		</div>
				<!-- <img src="assets/v3/img/user.svg" class="cardHeadingIcon">
		  		<span class="statusCardHeadingColor ml-4">Designer </span> -->
		  	</div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{lead_type:'designer', 'to_date': to_date, 'from_date': from_date}">{{countres.converted_designer}}/{{countres.designer}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
				<p>The count shows that {{countres.converted_designer}} leads are converted out of {{countres.designer}} total leads</p>
			</div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2 ">
			<div class="mt-3 mb-4 mx-1">
				<!-- <img src="assets/v3/img/user.svg" class="cardHeadingIcon">
		  		<span class="statusCardHeadingColor ml-4">Broker </span> -->
		  		<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/user.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center">
		  				<span class="statusCardHeadingColor">
		  				Broker 
		  				</span>
		  			</div>
		  		</div>
		  	</div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{lead_type:'broker', 'to_date': to_date, 'from_date': from_date}" >{{countres.converted_broker}}/{{countres.broker}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
				<p>The count shows that {{countres.converted_broker}} leads are converted out of {{countres.broker}} total leads</p>
			</div>
		</div>
	</div>
	<div class="col-sm-3 my-3">
		<div class="card py-2 px-2 ">
			<div class="mt-3 mb-4 mx-1">
				<!-- <img src="assets/v3/img/user.svg" class="cardHeadingIcon">
		  		<span class="statusCardHeadingColor ml-4">Manufacturer </span> -->
		  		<div class="row">
					<div class="col-4">
						<img src="assets/v3/img/user.svg" class="cardHeadingIcon">
					</div>
					<div class="col-8 d-flex align-items-center" style="word-break:break-all;">
		  				<span class="statusCardHeadingColor">
		  				Manufacturer 
		  				</span>
		  			</div>
		  		</div>
		  	</div>
		    <h1 class="card-title text-center statusCardTextColor mt-4 mb-5 addCursor" [routerLink]="['/salesmanager/lead-list']" [queryParams]="{lead_type:'manufacturer', 'to_date': to_date, 'from_date': from_date}" >{{countres.converted_manufacturer}}/{{countres.manufacturer}}</h1>
		    <div class="ml-3 mr-2 statusCardContent">
				<p>The count shows that {{countres.converted_manufacturer}} leads are converted out of {{countres.manufacturer}} total leads</p>
			</div>
		</div>
	</div>
	
</div>

<!-- Invite Champion Modal -->
<div class="modal fade customModal" id="inviteChampionModal" tabindex="-1" role="dialog" aria-labelledby="inviteChampionModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title modalTitle" id="inviteChampionModalLabel">User Details</h5>
      </div>

      <div class="modal-body">
        <app-invite-champions #slaesmanagerinvitechampions></app-invite-champions>
      </div>
    </div>
  </div>
</div>

<div class="rk-ui-notification err" *ngIf="erroralert"  style="z-index: 10000;">
	<span id="notificationMessageText">{{errorMessage}}</span>
	<a class="close rk-linknotification" (click)="erroralert=false">×</a>
</div>
<div class="rk-ui-notification" *ngIf="successalert"  style="z-index: 10000;">
	<span id="notificationMessageText">{{successMessage}}</span>
	<a class="close rk-linknotification" (click)="successalert=false">×</a>
</div>